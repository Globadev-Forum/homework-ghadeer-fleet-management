@model IEnumerable<FleetManagement.Models.DriverViewModel>

@{
    ViewBag.Title = "Drivers";
    Layout = "~/Views/Shared/_Layout.cshtml";

    string successmessage;
    string errormessage;

    if (TempData["successmessage"] == null)
    { successmessage = ""; }

    else
    { successmessage = TempData["successmessage"].ToString(); }


    if (TempData["errormessage"] == null)
    { errormessage = ""; }
    else
    { errormessage = TempData["errormessage"].ToString(); }

}

<h2>@ViewBag.Title </h2>


@if (!string.IsNullOrWhiteSpace(successmessage))
{
    <div class="alert alert-sucess">
        <strong></strong>@successmessage

    </div>

}
else if (!string.IsNullOrWhiteSpace(errormessage))
{
    <div class="alert alert-danger" >
        <strong>Error!</strong>@errormessage
        <button type="button" class="btn-close float-end" data-bs-dismiss="alert"></button>
    </div>

}
<form>
    @*   <button asp-action="Create" asp-controller="Driver" class=" btn btn-primary mb-3" onclick=@Html.ActionLink("New Driver", "Create")></button>*@
    <p>
        @Html.ActionLink("Create New", "Create")
    </p>
    <div class="row">
    <div class="col-md-12 p-4">
        <table class="table">
            <thead>
                <tr>

                    <th scope="col">@Html.DisplayNameFor(model => model.Name)</th>
                    <th scope="col">@Html.DisplayNameFor(model => model.Mobile)</th>
                    <th scope="col">@Html.DisplayNameFor(model => model.Email)</th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>

            <tbody>
                @if (Model != null && Model.Any())
                {
                    foreach (var item in Model)
                    {
                        <tr>
                            
                            <td>@Html.DisplayFor(modelItem => item.Name)</td>
                            <td>@Html.DisplayFor(modelItem => item.Mobile)</td>
                            <td>
                                @Html.ActionLink("Edit", "Edit", new { id = item.DriverId }) |
                                @Html.ActionLink("Delete", "Delete", new { id = item.DriverId })
                              
                            </td>
                        </tr>
                    }
                }
                else
                {
                    <tr>
                        <td colspan="6">
                            <div>
                                No Drivers available at the moment
                            </div>

                        </td>
                    </tr>
                }
            </tbody>


        </table>
        </div>
        </div>
</form>